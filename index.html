<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Numerologia AI â€“ Profil Osobisty</title>

  <!-- React i ReactDOM (UMD builds) -->
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  
  <!-- Babel Standalone do transpilacji JSX w przeglÄ…darce -->
  <script src="https://cdn.jsdelivr.net/npm/babel-standalone@7.22.9/babel.min.js"></script>
  
  <!-- Czcionki -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    /* Reset, Tailwind-like utility classes i wÅ‚asne style */
    html { line-height:1.15; -webkit-text-size-adjust:100%; }
    body { margin:0; min-height:100vh; background: linear-gradient(135deg, #2e1a47 0%, #4b0082 50%, #191970 100%); background-size:200% 200%; animation:gradientFlow 15s ease infinite; font-family:'Poppins',sans-serif; color:#fff; }
    @keyframes gradientFlow { 0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%} }
    .min-h-screen{min-height:100vh}.flex{display:flex}.items-center{align-items:center}.justify-center{justify-content:center}.p-4{padding:1rem}.max-w-lg{max-width:32rem}.w-full{width:100%}.rounded-2xl{border-radius:1rem}.p-8{padding:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.font-bold{font-weight:700}.text-center{text-align:center}.mb-6{margin-bottom:1.5rem}.text-purple-200{color:rgba(221,214,254,1)}.space-y-4>:not([hidden])~:not([hidden]){margin-top:1rem}.block{display:block}.text-sm{font-size:.875rem;line-height:1.25rem}.font-medium{font-weight:500}.text-purple-100{color:rgba(237,233,254,1)}.mb-1{margin-bottom:.25rem}.p-3{padding:.75rem}.bg-transparent{background:transparent}.border{border-width:1px}.border-purple-300{border-color:rgba(196,181,253,1)}.rounded-lg{border-radius:.5rem}.text-white{color:rgba(255,255,255,1)}.placeholder-purple-300::placeholder{color:rgba(196,181,253,1)}.focus\:border-purple-400:focus{border-color:rgba(167,139,250,1)}.py-3{padding:.75rem 0}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-purple-500{--tw-gradient-from:#a78bfa;--tw-gradient-to:rgba(167,139,250,0)}.to-indigo-600{--tw-gradient-to:#4f46e5}.font-semibold{font-weight:600}.hover\:from-purple-600:hover{--tw-gradient-from:#7c3aed;--tw-gradient-to:rgba(124,58,237,0)}.hover\:to-indigo-700:hover{--tw-gradient-to:#4338ca}.mt-6{margin-top:1.5rem}
    .glass-card { background:rgba(255,255,255,0.1); backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,0.2); box-shadow:0 8px 32px rgba(0,0,0,0.2); }
    input, button { transition: all .3s ease; }
    input:focus { outline:none; border-color:#a78bfa; box-shadow:0 0 8px rgba(167,139,250,0.5); }
    button:hover { transform:translateY(-2px); }
    #output { white-space:pre-wrap; animation:fadeIn 1s ease; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
    .font-cinzel { font-family:'Cinzel',serif; }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- Aplikacja w React + JSX -->
  <script type="text/babel" data-presets="env,react">
    // --- MAPA LITER ---
    const letterToNumber = { A:1,J:1,S:1, B:2,K:2,T:2, C:3,L:3,U:3, D:4,M:4,V:4, E:5,N:5,W:5, F:6,O:6,X:6, G:7,P:7,Y:7, H:8,Q:8,Z:8, I:9,R:9 };

    // --- PROGNOZY ROCZNE ---
    const personalYearPredictions = {
      1: "Nowe poczÄ…tki, inicjatywy, samodzielnoÅ›Ä‡.",
      2: "WspÃ³Å‚praca, cierpliwoÅ›Ä‡, relacje, przygotowanie.",
      3: "Ekspresja, radoÅ›Ä‡, kreatywnoÅ›Ä‡, towarzyskoÅ›Ä‡.",
      4: "Praca, struktura, obowiÄ…zki, cierpliwoÅ›Ä‡.",
      5: "Zmiany, wolnoÅ›Ä‡, przygody, elastycznoÅ›Ä‡.",
      6: "Rodzina, odpowiedzialnoÅ›Ä‡, domowe sprawy, harmonia.",
      7: "Introspekcja, duchowoÅ›Ä‡, analiza, wyciszenie.",
      8: "Ambicje, sukces zawodowy, zarzÄ…dzanie finansami.",
      9: "ZakoÅ„czenia, podsumowania, sÅ‚uÅ¼ba innym, transformacja."
    };

    // --- INTERPRETACJE KONTEKSTOWE ---
    const numberMeaningsContextual = {
      "Liczba Å»ycia":   { /* peÅ‚na definicja jak wczeÅ›niej */ },
      "Liczba Imienia": { /* peÅ‚na definicja jak wczeÅ›niej */ },
      "Liczba Duszy":   { /* ... */ },
      "Liczba OsobowoÅ›ci": { /* ... */ }
    };

    // --- FUNCTIONAL ---
    const reduceNumber = n => {
      while (n > 9 && ![11,22,33].includes(n)) {
        n = String(n).split('').reduce((s,d) => s + +d, 0);
      }
      return n;
    };
    const calculateLifePath = (d,m,y) => reduceNumber(reduceNumber(d)+reduceNumber(m)+reduceNumber(y));
    const nameNumber = name => reduceNumber([...name.toUpperCase()].reduce((s,c) => s+(letterToNumber[c]||0),0));
    const soulNumber = name => reduceNumber([...name.toUpperCase()].reduce((s,c) => s+((/^[AEIOUY]$/.test(c))?letterToNumber[c]:0),0));
    const personalityNumber = name => reduceNumber([...name.toUpperCase()].reduce((s,c) => s+((/^[A-Z]$/.test(c)&&!"AEIOUY".includes(c))?letterToNumber[c]:0),0));
    const personalYear = (d,m,y) => reduceNumber(reduceNumber(d)+reduceNumber(m)+reduceNumber((y||new Date().getFullYear())));
    const getContextualMeaning = (n,asp) => (numberMeaningsContextual[asp]||{})[n] || "Brak interpretacji.";
    const getPersonalYearForecast = n => personalYearPredictions[n] || "Brak prognozy.";

    function App() {
      const [name, setName] = React.useState('');
      const [dob,  setDob]  = React.useState('');
      const [out,  setOut]  = React.useState('');
      
      const generate = () => {
        if (!name.trim()||!dob) return alert('UzupeÅ‚nij oba pola.');
        const [y,m,d] = dob.split('-').map(Number);
        const life = calculateLifePath(d,m,y);
        const exp  = nameNumber(name), soul = soulNumber(name), pers = personalityNumber(name);
        const py   = personalYear(d,m);
        let r = `ImiÄ™ i nazwisko: ${name}\nData urodzenia: ${dob}\n\n`;
        r += `ðŸ“Œ Liczba Å»ycia: ${life}\n${getContextualMeaning(life,'Liczba Å»ycia')}\n\n`;
        r += `ðŸ§  Liczba Imienia: ${exp}\n${getContextualMeaning(exp,'Liczba Imienia')}\n\n`;
        r += `ðŸ’“ Liczba Duszy: ${soul}\n${getContextualMeaning(soul,'Liczba Duszy')}\n\n`;
        r += `ðŸŽ­ Liczba OsobowoÅ›ci: ${pers}\n${getContextualMeaning(pers,'Liczba OsobowoÅ›ci')}\n\n`;
        r += `ðŸ“… Rok osobisty: ${py}\nðŸ”® Prognoza: ${getPersonalYearForecast(py)}`;
        setOut(r);
      };

      return (
        <div className="min-h-screen flex items-center justify-center p-4">
          <div className="glass-card rounded-2xl p-8 max-w-lg w-full">
            <h1 className="text-3xl font-bold text-center mb-6 text-purple-200 font-cinzel">
              Numerologia AI â€“ Profil Osobisty
            </h1>
            <div className="space-y-4">
              <div>
                <label className="block text-sm font-medium text-purple-100 mb-1">ImiÄ™ i nazwisko:</label>
                <input type="text" value={name} onChange={e=>setName(e.target.value)}
                  placeholder="Jan Kowalski"
                  className="w-full p-3 bg-transparent border border-purple-300 rounded-lg text-white placeholder-purple-300 focus:border-purple-400" />
              </div>
              <div>
                <label className="block text-sm font-medium text-purple-100 mb-1">Data urodzenia:</label>
                <input type="date" value={dob} onChange={e=>setDob(e.target.value)}
                  className="w-full p-3 bg-transparent border border-purple-300 rounded-lg text-white focus:border-purple-400" />
              </div>
              <button onClick={generate}
                className="w-full py-3 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-lg text-white font-semibold hover:from-purple-600 hover:to-indigo-700">
                Generuj raport
              </button>
            </div>
            {out && <pre id="output" className="mt-6 p-4 bg-transparent text-purple-100 rounded-lg">{out}</pre>}
          </div>
        </div>
      );
    }

    // Renderowanie
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
